(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t(3),i=t(4),o=t(7),s=t(6),c=t(0),u=t.n(c),l=t(5),m=t.n(l);function d(e){return u.a.createElement("button",{className:"square",onClick:e.onClick},e.value)}function h(e){for(var n=e.rowIndex,t=e.width,a=e.squares,r=e.onClick,i=[],o=function(e){var o=n*t+e;i.push(u.a.createElement(d,{key:e,value:a[e],onClick:function(){return r(o)}}))},s=0;s<t;s++)o(s);return u.a.createElement("div",{className:"board-row",key:n},i)}function v(e){for(var n=e.boardDimensions,t=n.width,a=n.height,r=e.squares,i=e.onClick,o=[],s=0;s<a;s++){var c=s*t,l=c+t;o.push(u.a.createElement(h,Object.assign({key:s},{rowIndex:s,width:t,squares:r.slice(c,l),onClick:i})))}return u.a.createElement("div",null,o)}function p(e){var n=e.isGameEnded,t=e.isStepNumberEven;return u.a.createElement("div",null,n?"Winner: ".concat(t?"O":"X"):"Next player: ".concat(t?"X":"O"))}function f(e){var n=e.sliceIndex,t=e.onClick;return u.a.createElement("li",{key:n},u.a.createElement("button",{onClick:function(){return t(n)}},n?"Go to move #"+n:"Go to game start"))}function b(e){var n=e.moves,t=e.onClick;return u.a.createElement("ol",null,u.a.createElement(f,{key:0,sliceIndex:0,onClick:t}),n.map((function(e,n){var a=n+1;return u.a.createElement(f,Object.assign({key:a},{sliceIndex:a,onClick:t}))})))}function g(e,n,t){return e.map((function(e,a){return e+t*n[a]}))}function E(e,n){return e.some((function(e){return n.every((function(n,t){return n===e[t]}))}))}var k={horizontal:[1,0],vertical:[0,1],diagonal:[1,1],antiDiagonal:[-1,1]};function y(e,n){var t=n.width,a=n.height;return!(e[0]<0)&&e[0]<t&&!(e[1]<0)&&e[1]<a}function w(e,n){var t=n.width;return[e%t,Math.floor(e/t)]}var C={board:{directionToTupleMappings:k,getPlayerMovesAsTuples:function(e,n){for(var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],r=t?0:1;r<e.length;r+=2)a.push(w(e[r],n));return a},getSquaresFromMoves:function(e,n,t){for(var a=e.width,r=e.height,i=new Array(a*r).fill(null),o=!0,s=0;s<n;s++)i[t[s]]=o?"X":"O",o=!o;return i},checkWinForDirection:function(e,n,t,a){for(var r=k[a],i=e[e.length-1],o=[g(i,r,-1),g(i,r,1)],s=[],c=1,u=0;u<o.length;u++){for(var l=o[u],m=0===u?-1:1;y(l,t)&&E(e,l);)c++,l=g(l,r,m);s[u]=l}if(c===n)return s}}},N=(t(13),function(e){Object(o.a)(t,e);var n=Object(s.a)(t);function t(e){var a;return Object(r.a)(this,t),(a=n.call(this,e)).validateProps(),a.state={moves:[],stepNumber:0,winningEndpoints:[]},a}return Object(i.a)(t,[{key:"validateProps",value:function(){var e=this.props,n=e.numElementsRequiredForWin,t=e.boardDimensions;if(Math.max.apply(Math,Object(a.a)(Object.values(n)))>Math.min.apply(Math,Object(a.a)(Object.values(t))))throw new RangeError("Number of elements required to win cannot be bigger than board dimensions.")}},{key:"checkWin",value:function(){var e=this.state.moves,n=this.props,t=n.numElementsRequiredForWin,a=n.boardDimensions,r=C.board.getPlayerMovesAsTuples(e,a,e.length%2!==0),i=[];for(var o in t.antiDiagonal=t.diagonal,C.board.directionToTupleMappings){var s=C.board.checkWinForDirection(r,t[o],a,o);s&&i.push(s)}this.setState({winningEndpoints:i})}},{key:"isGameEnded",value:function(){var e=this.state,n=e.winningEndpoints,t=e.stepNumber,a=e.moves;return n.length>0&&t===a.length}},{key:"handleClick",value:function(e){var n=this.state,t=n.moves,r=n.stepNumber,i=t.slice(0,r);this.isGameEnded()||i.includes(e)||this.setState({moves:[].concat(Object(a.a)(i),[e]),winningEndpoints:[],stepNumber:r+1},this.checkWin)}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"game-board"},u.a.createElement(v,{boardDimensions:this.props.boardDimensions,squares:C.board.getSquaresFromMoves(this.props.boardDimensions,this.state.stepNumber,this.state.moves),onClick:function(n){return e.handleClick(n)}})),u.a.createElement("div",{className:"game-info"},u.a.createElement(p,{isGameEnded:this.isGameEnded(),isStepNumberEven:this.state.stepNumber%2===0}),u.a.createElement(b,{moves:this.state.moves,onClick:function(n){return e.jumpTo(n)}})))}}]),t}(u.a.Component));m.a.render(u.a.createElement(N,{boardDimensions:{width:5,height:7},numElementsRequiredForWin:{horizontal:3,vertical:3,diagonal:3}}),document.getElementById("root"))},8:function(e,n,t){e.exports=t(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.e4f38d6f.chunk.js.map