(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,n,t){e.exports=t(17)},16:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),i=t.n(o),u=t(4),s=t(1),c=t(8),l=t(5),m=t(10),d=t(9),v=function(e){var n=e.square,t=e.onClick;return r.a.createElement("button",{className:"square",onClick:t},n)},p=function(e){var n=e.rowIndex,t=e.row,a=e.addMove;return r.a.createElement("div",{className:"board-row",key:n},t.map((function(e,t){return r.a.createElement(v,{key:t,square:e,onClick:function(){return a([n,t])}})})))},f=function(e){var n=e.squares,t=e.addMove;return r.a.createElement("div",null,n.map((function(e,n){return r.a.createElement(p,{key:n,rowIndex:n,row:e,addMove:t})})))},E=function(e){var n=e.gameEnded,t=e.stepNumberEven;return r.a.createElement("div",null,n?"Winner: ".concat(t?"O":"X"):"Next player: ".concat(t?"X":"O"))},g=function(e){var n=e.sliceIndex,t=e.jumpTo;return r.a.createElement("li",{key:n},r.a.createElement("button",{onClick:function(){return t(n)}},n?"Go to move #"+n:"Go to game start"))},b=function(e){var n=e.moves,t=e.jumpTo;return n=[[-1,-1]].concat(Object(s.a)(n)),r.a.createElement("ol",null,n.map((function(e,n){return r.a.createElement(g,Object.assign({key:n},{sliceIndex:n,jumpTo:t}))})))};function h(e,n,t){return e.map((function(e,a){return e+t*n[a]}))}var y=function(e){Object(m.a)(t,e);var n=Object(d.a)(t);function t(e){var a;Object(c.a)(this,t),t.validateProps(e),e.numElementsRequiredForWin.antiDiagonal=e.numElementsRequiredForWin.diagonal,(a=n.call(this,e)).addMove=function(e){a.setState((function(n){var r=n.moves,o=n.stepNumber,i=n.squares;if(!n.gameEnded&&(r=r.slice(0,o),u=e,!r.some((function(e){return u.every((function(n,t){return n===e[t]}))})))){var u;(i=Object(s.a)(i))[e[0]][e[1]]=o%2===0?"X":"O",r.push(e),o++;var c=t.getWinningEndpoints(e,i,a.props.numElementsRequiredForWin);return{moves:r,stepNumber:o,squares:i,winningEndpoints:c,gameEnded:c.length>0}}}))},a.jumpTo=function(e){a.setState((function(n){var a=n.moves,r=n.stepNumber,o=n.squares,i=n.winningEndpoints;return{stepNumber:e,squares:t.getNewSquaresAfterJump(a,r,e,o),gameEnded:i.length>0&&e===a.length}}))};var r=a.props.boardDimensions,o=r.width,i=r.height;return a.state={moves:[],stepNumber:0,squares:Array.from(Array(i),(function(){return Array(o).fill(null)})),winningEndpoints:[],gameEnded:!1},a}return Object(l.a)(t,null,[{key:"validateProps",value:function(e){var n=e.numElementsRequiredForWin,t=e.boardDimensions;if(Math.max.apply(Math,Object(s.a)(Object.values(n)))>Math.min.apply(Math,Object(s.a)(Object.values(t))))throw new RangeError("Number of elements required to win cannot be bigger than board dimensions.")}},{key:"getWinningEndpointsForDirection",value:function(e,n,t,a){for(var r=a[t[0]][t[1]],o=[t,t],i=1,u=0;u<2;u++)for(var s=0===u?-1:1,c=h(t,e,s);(null===(l=a[c[0]])||void 0===l?void 0:l[c[1]])===r;){var l;i++,o[u]=c,c=h(c,e,s)}if(i===n)return o}},{key:"getWinningEndpoints",value:function(e,n,a){var r={horizontal:[0,1],vertical:[1,0],diagonal:[1,1],antiDiagonal:[-1,1]},o=[];for(var i in r){var u=r[i],s=a[i],c=t.getWinningEndpointsForDirection(u,s,e,n);c&&o.push(c)}return o}},{key:"getNewSquaresAfterJump",value:function(e,n,t,a){var r=n,o=t;if(a=Object(s.a)(a),o>r){var i,c=e.slice(r,o),l=r%2===0,m=Object(u.a)(c);try{for(m.s();!(i=m.n()).done;){var d=i.value;a[d[0]][d[1]]=l?"X":"O",l=!l}}catch(g){m.e(g)}finally{m.f()}}else{var v,p=e.slice(o,r),f=Object(u.a)(p);try{for(f.s();!(v=f.n()).done;){var E=v.value;a[E[0]][E[1]]=null}}catch(g){f.e(g)}finally{f.f()}}return a}}]),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,n=e.moves,t=e.squares,a=e.gameEnded,o=this.addMove,i=this.jumpTo,u=this.state.stepNumber%2===0;return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement(f,{squares:t,addMove:o})),r.a.createElement("div",{className:"game-info"},r.a.createElement(E,{gameEnded:a,stepNumberEven:u}),r.a.createElement(b,{moves:n,jumpTo:i})))}}]),t}(r.a.Component);t(16);i.a.render(r.a.createElement(y,{boardDimensions:{width:5,height:7},numElementsRequiredForWin:{horizontal:3,vertical:3,diagonal:3}}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.eb2ad3a5.chunk.js.map